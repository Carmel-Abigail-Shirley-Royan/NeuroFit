<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Seizure Data - Neuro-Guard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      padding: 30px;
      background: #f5f7fa;
    }
    h2 {
      color: #4a6cf7;
      margin-bottom: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
    th {
      background: #4a6cf7;
      color: white;
    }
    tr:nth-child(even) {
      background: #f9f9f9;
    }
  </style>
</head>
<body>
  <h2 id="prediction"></h2>
  <div id="csvContainer"></div>

  <script>
    // Get prediction & CSV from localStorage
    let prediction = localStorage.getItem("seizurePrediction");
    let csvText = localStorage.getItem("uploadedCSV");

    document.getElementById("prediction").innerText =
      "Prediction: " + (prediction || "No result");

    if (csvText) {
      let rows = csvText.split("\n").map(r => r.split(","));
      let table = "<table><thead><tr>";

      // Table header (first row)
      rows[0].forEach(cell => {
        table += "<th>" + cell + "</th>";
      });
      table += "</tr></thead><tbody>";

      // Table body (remaining rows)
      for (let i = 1; i < rows.length; i++) {
        if (rows[i].length > 1) {
          table += "<tr>";
          rows[i].forEach(cell => {
            table += "<td>" + cell + "</td>";
          });
          table += "</tr>";
        }
      }

      table += "</tbody></table>";
      document.getElementById("csvContainer").innerHTML = table;
    }
  </script>
</body>
</html>
